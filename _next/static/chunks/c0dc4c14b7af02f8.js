(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58831,e=>{"use strict";var t=e.i(91398),s=e.i(91788),n=e.i(75823),a=e.i(7654);function r({onCommand:e}){let[r,l]=(0,s.useState)(""),[o,i]=(0,s.useState)([{type:"system",content:"NASRDA Geospatial Agent v1.0 initialized."},{type:"system",content:"Connected to Sentinel-1 downlink."},{type:"ai",content:"Orbital Command online. Ask me to navigate to a project or analyze a region."}]),d=(0,s.useRef)(null);(0,s.useEffect)(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[o]);let c=async t=>{try{let s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t})});if(!s.ok)throw Error("Failed to reach Orbital Command");let n=await s.json();i(e=>[...e,{type:"ai",content:n.text}]),n.action&&e&&e(n.action)}catch(e){console.error("Command failed:",e),i(e=>[...e,{type:"system",content:"Connection to Orbital Command interrupted."}])}},[m,x]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{window.innerWidth>768&&x(!0)},[]),(0,t.jsxs)(t.Fragment,{children:[!m&&(0,t.jsx)("button",{onClick:()=>x(!0),className:"fixed bottom-4 right-4 z-50 p-3 bg-[#0f172a] border border-[#22d3ee]/30 rounded-full shadow-lg text-[#22d3ee] animate-bounce",children:(0,t.jsx)(n.FiTerminal,{size:24})}),(0,t.jsxs)("div",{className:`fixed z-50 transition-all duration-300 ease-in-out
        ${m?"translate-y-0 opacity-100":"translate-y-full opacity-0 pointer-events-none"}
        bottom-0 left-0 right-0 h-[50vh] w-full md:bottom-8 md:right-8 md:left-auto md:h-96 md:w-96 
        bg-[#0f172a]/95 backdrop-blur-md border-t md:border border-[#1e293b] md:rounded-lg shadow-2xl flex flex-col font-mono text-sm overflow-hidden`,children:[(0,t.jsxs)("div",{className:"bg-[#1e293b] p-3 flex items-center justify-between border-b border-[#334155]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-red-500"}),(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),(0,t.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,t.jsxs)("span",{className:"ml-2 text-slate-300 font-bold flex items-center gap-2",children:[(0,t.jsx)(n.FiTerminal,{})," ORBITAL_CMD"]})]}),(0,t.jsx)("button",{onClick:()=>x(!1),className:"md:hidden text-slate-400",children:"✕"})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[o.map((e,s)=>(0,t.jsx)("div",{className:`flex flex-col ${"user"===e.type?"items-end":"items-start"}`,children:(0,t.jsxs)("div",{className:`max-w-[85%] rounded px-3 py-2 ${"user"===e.type?"bg-[#22d3ee]/10 text-[#22d3ee] border border-[#22d3ee]/20":"system"===e.type?"text-slate-500 text-xs italic":"text-slate-300"}`,children:["ai"===e.type&&(0,t.jsx)("span",{className:"text-green-500 mr-2 float-left",children:"➜"}),(0,t.jsx)("div",{className:"prose prose-invert prose-sm max-w-none",children:(0,t.jsx)(a.default,{components:{a:({node:e,...s})=>(0,t.jsx)("a",{...s,className:"text-[#22d3ee] underline hover:text-white",target:"_blank",rel:"noopener noreferrer"}),p:({node:e,...s})=>(0,t.jsx)("p",{...s,className:"m-0 inline"})},children:e.content})})]})},s)),(0,t.jsx)("div",{ref:d})]}),(0,t.jsx)("form",{onSubmit:e=>{if(e.preventDefault(),!r.trim())return;let t=r.trim();i(e=>[...e,{type:"user",content:t}]),l(""),c(t)},className:"p-3 border-t border-[#334155] bg-[#0f172a]",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-green-500 animate-pulse",children:"_"}),(0,t.jsx)("input",{type:"text",value:r,onChange:e=>l(e.target.value),placeholder:"Enter command...",className:"flex-1 bg-transparent text-slate-200 outline-none placeholder:text-slate-600",autoFocus:window.innerWidth>768}),(0,t.jsx)("button",{type:"submit",className:"text-slate-400 hover:text-white",children:(0,t.jsx)(n.FiSend,{})})]})})]})]})}e.s(["default",()=>r])},55666,e=>{e.n(e.i(58831))}]);